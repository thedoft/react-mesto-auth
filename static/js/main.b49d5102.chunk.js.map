{"version":3,"sources":["images/logo.svg","components/Header.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Form.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddCardPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","components/InfoTooltip.js","utils/utils.js","utils/api.js","utils/auth.js","images/info-tooltip-ok.svg","images/info-tooltip-error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","React","useState","window","innerWidth","windowWidth","setWindowWidth","isMenuOpen","setIsMenuOpen","updateWindowSize","useEffect","addEventListener","removeEventListener","menuStyles","isLoggedIn","className","userLogin","to","navlinkPath","onClick","onSignOut","navlinkText","src","logo","alt","ProtectedRoute","Component","component","CurrentUserContext","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","name","link","onCardClick","type","onCardLike","length","onCardDelete","Main","setHeaderNavlinkData","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","Form","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","title","value","onChange","target","placeholder","required","autoComplete","maxLength","id","minLength","readOnly","onFocus","removeAttribute","isLoading","buttonLoadingText","buttonText","Login","Register","Footer","currentYear","Date","getFullYear","lang","PopupWithForm","popup","useRef","ref","onLayout","current","isOpen","noValidate","children","onClose","EditAvatarPopup","document","onEscape","onUpdateAvatar","EditProfilePopup","setName","setAbout","onUpdateUser","AddCardPopup","setLink","ImagePopup","ConfirmPopup","onConfirm","InfoTooltip","setTitle","image","setImage","handlePromiseRes","res","ok","json","Promise","reject","status","BASE_URL","headers","authorization","App","history","useHistory","setIsLoggedIn","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCards","headerNavlinkPath","setHeaderNavlinkPath","headerNavlinkText","setHeaderNavlinkText","headerUserLogin","setHeaderUserLogin","infoTooltipTitle","setInfoTooltipTitle","infoTooltipImage","setInfoTooltipImage","setIsLoading","path","text","setInfoTooltipError","infoTooltipErrorImage","checkToken","localStorage","getItem","token","jwt","fetch","then","catch","err","console","log","handleLayoutClick","currentTarget","closeAllPopups","handleEscapeClose","key","userData","initialCards","Provider","removeItem","exact","method","api","newCard","newCards","c","body","JSON","stringify","auth","setItem","finally","infoTooltipOkImage","push","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","querySelector"],"mappings":"8OAAe,MAA0B,iCCkD1BA,MA7Cf,SAAgBC,GAAQ,IAAD,EACiBC,IAAMC,SAASC,OAAOC,YADvC,mBACdC,EADc,KACDC,EADC,OAEeL,IAAMC,UAAS,GAF9B,mBAEdK,EAFc,KAEFC,EAFE,KAIrB,SAASC,IACPH,EAAeH,OAAOC,YAEtBD,OAAOC,YAAc,IAAMI,GAAc,GAASA,GAAc,GAGlEP,IAAMS,WAAU,WAGd,OAFAP,OAAOQ,iBAAiB,SAAUF,GAE3B,WACLN,OAAOS,oBAAoB,SAAUH,OAQzC,IAAMI,EAAU,gBACVb,EAAMc,YAAgBT,GAAe,IAAQ,sBAAwB,eAD3D,iBAEVA,GAAe,MAAUE,EAAe,SAAW,GAFzC,QAKhB,OACE,yBAAQQ,UAAU,SAAlB,UACE,sBAAKA,UAAWF,EAAhB,UACE,mBAAGE,UAAU,qBAAb,SAAmCf,EAAMgB,YACzC,cAAC,IAAD,CAASD,UAAS,0BAAqBf,EAAMc,WAAa,4BAA8B,IACtFG,GAAIjB,EAAMkB,YACVC,QAASnB,EAAMoB,UAFjB,SAGEpB,EAAMqB,iBAGV,sBAAKN,UAAU,oBAAf,UACE,qBAAKO,IAAKC,EAAMR,UAAU,eAAeS,IAAI,0FAC5CxB,EAAMc,YAAc,wBAAQC,UAAS,8BAAyBR,EAAa,6BAA+B,IAAMY,QArBvH,WACEX,GAAeD,a,gBCrBJ,SAASkB,EAAT,GAA6D,IAAxBC,EAAuB,EAAlCC,UAAyB3B,EAAS,6BACzE,OACE,cAAC,IAAD,UAEIA,EAAMc,WAAa,cAACY,EAAD,eAAe1B,IAAY,cAAC,IAAD,CAAUiB,GAAG,cCL5D,IAAMW,EAAqB3B,IAAM4B,gBCyCzBC,MAxCf,SAAc9B,GACZ,IAAM+B,EAAO/B,EAAM+B,KACbC,EAAc/B,IAAMgC,WAAWL,GAE/BM,EAAQH,EAAKI,MAAMC,MAAQJ,EAAYI,IACvCC,EAAwB,gCACHH,EAAQ,GAAK,gCAElCI,EAAUP,EAAKQ,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKL,MAAQJ,EAAYI,OAC3DM,EAAuB,+BACHJ,EAAU,8BAAgC,IAepE,OACE,qBAAIvB,UAAU,UAAd,UACE,qBAAKA,UAAU,iBAAiBS,IAAKO,EAAKY,KAAMrB,IAAKS,EAAKa,KAAMzB,QAdpE,WACEnB,EAAM6C,YAAYd,MAchB,sBAAKhB,UAAU,2BAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCgB,EAAKY,OACrC,sBAAK5B,UAAU,2BAAf,UACE,wBAAQ+B,KAAK,SAAS/B,UAAW2B,EAAyBvB,QAdlE,WACEnB,EAAM+C,WAAWhB,MAcX,mBAAGhB,UAAU,uBAAb,SAAqCgB,EAAKQ,MAAMS,eAGpD,wBAAQF,KAAK,SAAS/B,UAAWsB,EAA0BlB,QAd/D,WACEnB,EAAMiD,aAAalB,UCkBRmB,MAvCf,SAAclD,GACZ,IAAMgC,EAAc/B,IAAMgC,WAAWL,GAUrC,OARAlB,qBAAU,WAGR,OAFAV,EAAMmD,qBAAqB,UAAW,kCAE/B,WACLnD,EAAMmD,qBAAqB,IAAK,QAKlC,qCACE,0BAASpC,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,qBAAKS,IAAI,uCAAST,UAAU,kBAAkBO,IAAKU,EAAYoB,SAC/D,wBAAQjC,QAASnB,EAAMqD,aAAcP,KAAK,SAAS/B,UAAU,6DAE/D,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,2BAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCiB,EAAYW,OAC5C,wBAAQxB,QAASnB,EAAMsD,cAAeR,KAAK,SAAS/B,UAAU,8DAEhE,mBAAGA,UAAU,oBAAb,SAAkCiB,EAAYuB,WAEhD,wBAAQpC,QAASnB,EAAMwD,UAAWV,KAAK,SAAS/B,UAAU,2BAG5D,yBAASA,UAAU,WAAnB,SACE,oBAAIA,UAAU,iBAAd,SACGf,EAAMyD,MAAMC,KAAI,SAAA3B,GAAI,OACnB,cAAC,EAAD,CAAMA,KAAMA,EAAqBc,YAAa7C,EAAM6C,YAAaE,WAAY/C,EAAM+C,WAAYE,aAAcjD,EAAMiD,cAA5FlB,EAAKK,gBCjCzB,SAASuB,EAAK3D,GAAQ,IAAD,EACRE,mBAAS,IADD,mBAC3B0D,EAD2B,KACpBC,EADoB,OAEF3D,mBAAS,IAFP,mBAE3B4D,EAF2B,KAEjBC,EAFiB,KAsBlC,OACE,uBAAMpB,KAAM3C,EAAM2C,KAAM5B,UAAU,OAAOiD,SAX3C,SAAsBC,GACpBA,EAAIC,iBAEJlE,EAAMgE,SAAS,CAAEJ,QAAOE,cAQxB,UACE,oBAAI/C,UAAU,cAAd,SAA6Bf,EAAMmE,QACjC,2BAAUpD,UAAU,aAApB,UACE,uBAAOqD,MAAOR,GAAS,GAAIS,SAtBnC,SAA2BJ,GACzBJ,EAASI,EAAIK,OAAOF,QAqB0CzB,KAAK,cAAcG,KAAK,QAAQ/B,UAAU,qCAAqCwD,YAAY,QAAQC,UAAQ,EAACC,aAAa,QAAQC,UAAU,OACnM,sBAAM3D,UAAU,oBAAoB4D,GAAG,sBACvC,uBAAOP,MAAON,GAAY,GAAIO,SApBtC,SAA8BJ,GAC5BF,EAAYE,EAAIK,OAAOF,QAmB6CzB,KAAK,iBAAiBG,KAAK,WAAW/B,UAAU,wCAAwCwD,YAAY,uCAASC,UAAQ,EAACC,aAAa,WAAWG,UAAU,IAAIF,UAAU,MAAMG,UAAQ,EAACC,QAV3P,SAAqBb,GACnBA,EAAIK,OAAOS,gBAAgB,eAUrB,sBAAMhE,UAAU,oBAAoB4D,GAAG,4BAE3C,wBAAQ7B,KAAK,SAAS/B,UAAU,sBAAhC,SAAuDf,EAAMgF,UAAYhF,EAAMiF,kBAAoBjF,EAAMkF,gBC7BhG,SAASC,EAAMnF,GAS5B,OARAU,qBAAU,WAGR,OAFAV,EAAMmD,qBAAqB,UAAW,sEAE/B,WACLnD,EAAMmD,qBAAqB,IAAK,OAEjC,CAACnD,IAGF,qBAAKe,UAAU,OAAf,SACE,cAAC4C,EAAD,CACEhB,KAAK,QACLqB,SAAUhE,EAAMgE,SAChBG,MAAM,2BACNa,UAAWhF,EAAMgF,UACjBC,kBAAkB,8BAClBC,WAAW,qCChBJ,SAASE,EAASpF,GAS/B,OARAU,qBAAU,WAGR,OAFAV,EAAMmD,qBAAqB,UAAW,kCAE/B,WACLnD,EAAMmD,qBAAqB,IAAK,OAEjC,CAACnD,IAGF,sBAAKe,UAAU,OAAf,UACE,cAAC4C,EAAD,CACEhB,KAAK,WACLqB,SAAUhE,EAAMgE,SAChBG,MAAM,qEACNa,UAAWhF,EAAMgF,UACjBC,kBAAkB,wEAClBC,WAAW,iHAGb,oBAAGnE,UAAU,aAAb,kIAAgD,cAAC,IAAD,CAASE,GAAG,UAAUF,UAAU,aAAhC,kDCbvCsE,MAVf,WACE,IAAIC,GAAc,IAAIC,MAAOC,cAE7B,OACE,wBAAQzE,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAoB0E,KAAK,KAAtC,kBAAmDH,EAAnD,sBCcSI,MAnBf,SAAuB1F,GACrB,IAAM2F,EAAQ1F,IAAM2F,SAMpB,OACE,qBAAKC,IAAKF,EAAOxE,QALnB,WACEnB,EAAM8F,SAASH,EAAMI,UAIwBhF,UAAS,2BAAsBf,EAAM2C,KAA5B,YAAoC3C,EAAMgG,OAAS,eAAiB,IAA1H,SACE,uBAAMrD,KAAM3C,EAAM2C,KAAM5B,UAAU,cAAckF,YAAU,EAACjC,SAAUhE,EAAMgE,SAA3E,UACE,oBAAIjD,UAAU,eAAd,SAA8Bf,EAAMmE,QACnCnE,EAAMkG,SACP,wBAAQpD,KAAK,SAAS/B,UAAU,uBAAhC,SAAwDf,EAAMgF,UAAYhF,EAAMiF,kBAAoBjF,EAAMkF,aAC1G,wBAAQ/D,QAASnB,EAAMmG,QAASrD,KAAK,QAAQ/B,UAAU,8BCehDqF,MA3Bf,SAAyBpG,GACvB,IAAMoD,EAASnD,IAAM2F,SAgBrB,OAdA3F,IAAMS,WAAU,WAId,OAHA0C,EAAO2C,QAAQ3B,MAAQ,GACvBpE,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,aAE7C,CAACtG,IAQF,cAAC,EAAD,CAAegE,SANjB,SAAsBC,GACpBA,EAAIC,iBACJlE,EAAMuG,eAAe,CAAEnD,OAAQA,EAAO2C,QAAQ3B,SAIP+B,QAASnG,EAAMmG,QAASL,SAAU9F,EAAM8F,SAAUnD,KAAK,cAAcwB,MAAM,wFAAkB6B,OAAQhG,EAAMgG,OAAQhB,UAAWhF,EAAMgF,UAAWE,WAAW,mDAAWD,kBAAkB,kEAA9N,SACE,2BAAUlE,UAAU,cAApB,UACE,uBAAO8E,IAAKzC,EAAQT,KAAK,eAAeG,KAAK,MAAM/B,UAAU,wCAAwCwD,YAAY,qGAAqBC,UAAQ,IAC9I,sBAAMzD,UAAU,qBAAqB4D,GAAG,6BCuBjC6B,MA3Cf,SAA0BxG,GACxB,IAAMgC,EAAc/B,IAAMgC,WAAWL,GADN,EAEP3B,IAAMC,SAAS,IAFR,mBAExByC,EAFwB,KAElB8D,EAFkB,OAGLxG,IAAMC,SAAS,IAHV,mBAGxBqD,EAHwB,KAGjBmD,EAHiB,KA+B/B,OA1BAzG,IAAMS,WAAU,WACd+F,EAAQzE,EAAYW,MACpB+D,EAAS1E,EAAYuB,SACpB,CAACvB,EAAahC,EAAMgG,SAEvB/F,IAAMS,WAAU,WAGd,OAFAV,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,aAE7C,CAACtG,IAgBF,cAAC,EAAD,CAAegE,SAdjB,SAAsBC,GACpBA,EAAIC,iBACJlE,EAAM2G,aAAa,CAAEhE,OAAMY,WAYY4C,QAASnG,EAAMmG,QAASL,SAAU9F,EAAM8F,SAAUnD,KAAK,eAAewB,MAAM,kIAAyB6B,OAAQhG,EAAMgG,OAAQhB,UAAWhF,EAAMgF,UAAWE,WAAW,yDAAYD,kBAAkB,kEAAvO,SACE,2BAAUlE,UAAU,cAApB,UACE,uBAAOqD,MAAOzB,GAAQ,GAAI0B,SAXhC,SAA0BJ,GACxBwC,EAAQxC,EAAIK,OAAOF,QAUuCzB,KAAK,aAAaG,KAAK,OAAO/B,UAAU,sCAAsCwD,YAAY,qBAAMC,UAAQ,EAACI,UAAU,IAAIF,UAAU,OACvL,sBAAM3D,UAAU,qBAAqB4D,GAAG,qBACxC,uBAAOP,MAAOb,GAAS,GAAIc,SATjC,SAAyBJ,GACvByC,EAASzC,EAAIK,OAAOF,QAQsCzB,KAAK,YAAYG,KAAK,OAAO/B,UAAU,qCAAqCwD,YAAY,6CAAUC,UAAQ,EAACI,UAAU,IAAIF,UAAU,QACzL,sBAAM3D,UAAU,qBAAqB4D,GAAG,0BCEjCiC,MAxCf,SAAsB5G,GAAQ,IAAD,EACHC,IAAMC,SAAS,IADZ,mBACpByC,EADoB,KACd8D,EADc,OAEHxG,IAAMC,SAAS,IAFZ,mBAEpB0C,EAFoB,KAEdiE,EAFc,KA4B3B,OAxBA5G,IAAMS,WAAU,WAMd,OALA+F,EAAQ,IACRI,EAAQ,IAER7G,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,aAE7C,CAACtG,IAgBF,cAAC,EAAD,CAAegE,SAdjB,SAAsBC,GACpBA,EAAIC,iBACJlE,EAAMwD,UAAU,CAAEb,OAAMC,UAYeuD,QAASnG,EAAMmG,QAASL,SAAU9F,EAAM8F,SAAUnD,KAAK,WAAWwB,MAAM,gEAAc6B,OAAQhG,EAAMgG,OAAQhB,UAAWhF,EAAMgF,UAAWE,WAAW,mDAAWD,kBAAkB,kEAAvN,SACE,2BAAUlE,UAAU,cAApB,UACE,uBAAOqD,MAAOzB,GAAQ,GAAI0B,SAXhC,SAA0BJ,GACxBwC,EAAQxC,EAAIK,OAAOF,QAUuCzB,KAAK,cAAcG,KAAK,OAAO/B,UAAU,uCAAwCwD,YAAc,mDAAWC,UAAQ,EAACI,UAAU,IAAIF,UAAU,OACjM,sBAAM3D,UAAU,qBAAqB4D,GAAG,sBACxC,uBAAOP,MAAOxB,GAAQ,GAAIyB,SAThC,SAA0BJ,GACxB4C,EAAQ5C,EAAIK,OAAOF,QAQuCzB,KAAK,aAAaG,KAAK,MAAM/B,UAAU,sCAAsCwD,YAAc,qGAAqBC,UAAQ,IAC9K,sBAAMzD,UAAU,qBAAqB4D,GAAG,2BCRjCmC,MA3Bf,SAAoB9G,GAClB,IAAM+B,EAAO/B,EAAM+B,KACb4D,EAAQ1F,IAAM2F,SAcpB,OARA3F,IAAMS,WAAU,WAGd,OAFAV,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,aAE7C,CAACtG,IAGF,qBAAK6F,IAAKF,EAAOxE,QAbnB,WACEnB,EAAM8F,SAASH,EAAMI,UAYwBhF,UAAS,iCAA4Bf,EAAMgG,OAAS,eAAiB,IAAlH,SACE,sBAAKjF,UAAU,mBAAf,UACE,qBAAKA,UAAU,eAAeO,IAAKS,EAAKa,KAAMpB,IAAKO,EAAKY,OACxD,mBAAG5B,UAAU,kBAAb,SAAgCgB,EAAKY,OACrC,wBAAQxB,QAASnB,EAAMmG,QAASrD,KAAK,QAAQ/B,UAAU,8BCQhDgG,MA5Bf,SAAsB/G,GAepB,OAdAC,IAAMS,WAAU,WAGd,OAFAV,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,aAE7C,CAACtG,IASF,cAAC,EAAD,CAAegE,SAPjB,SAAsBC,GACpBA,EAAIC,iBAEJlE,EAAMgH,UAAUhH,EAAM+B,OAKtBoE,QAASnG,EAAMmG,QACfL,SAAU9F,EAAM8F,SAChBnD,KAAK,UACLwB,MAAM,2DACN6B,OAAQhG,EAAMgG,OACdhB,UAAWhF,EAAMgF,UACjBE,WAAW,eACXD,kBAAkB,yDCzBP,SAASgC,EAAYjH,GAClC,IAAM2F,EAAQC,mBAD2B,EAGf1F,mBAAS,IAHM,mBAGlCiE,EAHkC,KAG3B+C,EAH2B,OAIfhH,mBAAS,IAJM,mBAIlCiH,EAJkC,KAI3BC,EAJ2B,KAwBzC,OAlBA1G,qBAAU,WAMR,OALAwG,EAASlH,EAAMmE,OACfiD,EAASpH,EAAMmH,OAEfnH,EAAMgG,QAAUK,SAAS1F,iBAAiB,QAASX,EAAMsG,UAElD,WACLD,SAASzF,oBAAoB,QAASZ,EAAMsG,UAE5Cc,EAAS,IACTF,EAAS,OAEV,CAAClH,IAOF,qBAAK6F,IAAKF,EAAOxE,QALnB,WACEnB,EAAM8F,SAASH,EAAMI,UAIwBhF,UAAS,2BAAsBf,EAAM2C,KAA5B,YAAoC3C,EAAMgG,OAAS,eAAiB,IAA1H,SACE,uBAAMrD,KAAM3C,EAAM2C,KAAM5B,UAAU,cAAlC,UACE,qBAAKO,IAAK6F,EAAO3F,IAAI,oGAAoBT,UAAU,yBACnD,oBAAIA,UAAU,oCAAd,SAAmDoD,IACnD,wBAAQhD,QAASnB,EAAMmG,QAASrD,KAAK,QAAQ/B,UAAU,6BC/BxD,SAASsG,EAAiBC,GAC/B,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAR,gDAA0BJ,EAAIK,SCFlC,IAAMC,EAAW,8CACXC,EAAU,CACrBC,cAAe,uCACf,eAAgB,oBCHX,IAAMF,EAAW,gCACXC,EAAU,CACrB,eAAgB,oBCJH,UAA0B,4CCA1B,MAA0B,+CCoX1BE,MA5Vf,WACE,IAAMC,EAAUC,cADH,EAGuB/H,oBAAS,GAHhC,mBAGNY,EAHM,KAGMoH,EAHN,OAIyBhI,mBAAS,IAJlC,mBAIN8B,EAJM,KAIOmG,EAJP,OAM6CjI,oBAAS,GANtD,mBAMNkI,EANM,KAMiBC,EANjB,OAO+CnI,oBAAS,GAPxD,mBAONoI,EAPM,KAOkBC,EAPlB,OAQuCrI,oBAAS,GARhD,mBAQNsI,EARM,KAQcC,EARd,OASmCvI,oBAAS,GAT5C,mBASNwI,EATM,KASYC,EATZ,OAUuCzI,oBAAS,GAVhD,mBAUN0I,EAVM,KAUcC,GAVd,QAWqC3I,oBAAS,GAX9C,qBAWN4I,GAXM,MAWaC,GAXb,SAa2B7I,mBAAS,IAbpC,qBAaN8I,GAbM,MAaQC,GAbR,SAca/I,mBAAS,IAdtB,qBAcNuD,GAdM,MAcCyF,GAdD,SAgBqChJ,mBAAS,KAhB9C,qBAgBNiJ,GAhBM,MAgBaC,GAhBb,SAiBqClJ,mBAAS,IAjB9C,qBAiBNmJ,GAjBM,MAiBaC,GAjBb,SAkBiCpJ,mBAAS,IAlB1C,qBAkBNqJ,GAlBM,MAkBWC,GAlBX,SAoBmCtJ,mBAAS,IApB5C,qBAoBNuJ,GApBM,MAoBYC,GApBZ,SAqBmCxJ,mBAAS,IArB5C,qBAqBNyJ,GArBM,MAqBYC,GArBZ,SAuBqB1J,oBAAS,GAvB9B,qBAuBN8E,GAvBM,MAuBK6E,GAvBL,MAyBb,SAAS1G,GAAqB2G,EAAMC,GAClCX,GAAqBU,GACrBR,GAAqBS,GAQvB,SAASC,KACPN,GAAoB,uMACpBE,GAAoBK,GA+CtB,SAASC,KACP,GAAIC,aAAaC,QAAQ,SAAU,CACjC,IAAMC,EAAQF,aAAaC,QAAQ,UH/EdE,EGiFLD,EHhFbE,MAAM,GAAD,OAAI3C,EAAJ,aAAyB,CACnCC,QAAQ,2BACHA,GADE,IAEL,+BAA4ByC,OAG7BE,MAAK,SAAClD,GAAD,OAASD,EAAiBC,OG2E3BkD,MAAK,WACJtC,GAAc,MAEfuC,OAAM,SAACC,GACNC,QAAQC,IAAIF,MHtFf,IAAoBJ,EGuJzB,SAASO,GAAkBlF,GACzBA,EAAMhF,iBAAiB,aAAa,SAAAsD,GAClCA,EAAIK,SAAWL,EAAI6G,eAAiBC,QAIxC,SAASC,GAAkB/G,GACb,WAAZA,EAAIgH,KAAoBF,KAoB1B,SAASA,KACP1C,GAAyB,GACzBE,GAA0B,GAC1BE,GAAsB,GACtBE,GAAoB,GACpBE,IAAsB,GACtBE,IAAqB,GA6CvB,OA1IArI,qBAAU,WACRwJ,KACAV,GAAmBW,aAAaC,QAAQ,YACvC,IAEH1J,qBAAU,WJtHH6J,MAAM,GAAD,OAAI3C,EAAJ,aAAyB,CACnCC,YAED2C,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MIqHzBkD,MAAK,SAAAU,GACJ/C,EAAe+C,MAEhBT,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAEf,IAEHhK,qBAAU,WJzHH6J,MAAM,GAAD,OAAI3C,EAAJ,UAAsB,CAChCC,YAED2C,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MIwHzBkD,MAAK,SAAAW,GACJjC,GAASiC,MAEVV,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAEf,IAoHD,eAAC9I,EAAmBwJ,SAApB,CAA6BhH,MAAOpC,EAApC,UAEE,cAAC,EAAD,CACElB,WAAYA,EACZE,UAAWuI,GACXrI,YAAaiI,GACb9H,YAAagI,GACbjI,UAtKN,WACE+I,aAAakB,WAAW,SACxBnD,GAAc,GACdsB,GAAmB,OAsKjB,sBAAMzI,UAAU,OAAhB,SACE,eAAC,IAAD,WACE,cAACU,EAAD,CACE6J,OAAK,EAACxB,KAAK,IACXhJ,WAAYA,EACZqC,qBAAsBA,GACtBxB,UAAWuB,EACXG,aAtFV,WACEgF,GAAyB,IAsFjB/E,cAnFV,WACEiF,GAA0B,IAmFlB/E,UAhFV,WACEiF,GAAsB,IAgFd5F,YA7EV,SAAyBd,GACvB4G,GAAoB,GACpBM,GAAgBlH,IA4ER0B,MAAOA,GACPV,WAxIV,SAA6BhB,GAC3B,IAAMO,EAAUP,EAAKQ,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKL,MAAQJ,EAAYI,QJnF9D,WAAuCmJ,GAAS,IAAhBnJ,EAAe,EAAfA,IACrC,OAAOmI,MAAM,GAAD,OAAI3C,EAAJ,wBAA4BxF,GAAO,CAC7CmJ,OAAQA,EACR1D,YAED2C,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,OIgF5BkE,CAAyB,CAAEpJ,IAAKL,EAAKK,KAAOE,EAAU,SAAW,OAC9DkI,MAAK,SAAAiB,GACJ,IAAMC,EAAWjI,GAAMC,KAAI,SAAAiI,GAAC,OAAIA,EAAEvJ,MAAQL,EAAKK,IAAMqJ,EAAUE,KAC/DzC,GAASwC,MAEVjB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,OAgIRzH,aA5HV,SAA+BlB,GAC7B8G,IAAsB,GACtBI,GAAgBlH,MA6HV,cAAC,IAAD,CAAO+H,KAAK,UAAZ,SAEIhJ,EACE,cAAC,IAAD,CAAUG,GAAG,MACb,cAACkE,EAAD,CACEH,UAAWA,GACXhB,SApNhB,YAA2C,IAApBJ,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,SAC5B+F,IAAa,GH/DV,YAAqC,IAApBjG,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,SAC7B,OAAOyG,MAAM,GAAD,OAAI3C,EAAJ,WAAuB,CACjC2D,OAAQ,OACR1D,UACA+D,KAAMC,KAAKC,UAAU,CACnBlI,QACAE,eAGD0G,MAAK,SAAClD,GAAD,OAASD,EAAiBC,MGwDhCyE,CAAW,CAAEnI,QAAOE,aACjB0G,MAAK,SAAClD,GACDA,EAAI+C,QACNF,aAAa6B,QAAQ,QAAS1E,EAAI+C,OAClCF,aAAa6B,QAAQ,QAASpI,GAC9BsE,GAAc,GACdsB,GAAmB5F,OAKtB6G,OAAM,WACL1B,IAAqB,GACrBiB,QAEDiC,SAAQ,kBAAMpC,IAAa,OAmMhB1G,qBAAsBA,OAK9B,cAAC,IAAD,CAAO2G,KAAK,UAAZ,SAEIhJ,EACE,cAAC,IAAD,CAAUG,GAAG,MACb,cAACmE,EAAD,CACEJ,UAAWA,GACXhB,SAjPhB,YAA8C,IAApBJ,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,SAC/B+F,IAAa,GH1DV,YAAwC,IAApBjG,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,SAChC,OAAOyG,MAAM,GAAD,OAAI3C,EAAJ,WAAuB,CACjC2D,OAAQ,OACR1D,UACA+D,KAAMC,KAAKC,UAAU,CACnBlI,QACAE,eAGD0G,MAAK,SAAClD,GAAD,OAASD,EAAiBC,MGmDhCyE,CAAc,CAAEnI,QAAOE,aACpB0G,MAAK,WACJzB,IAAqB,GAdzBW,GAAoB,yKACpBE,GAAoBsC,GAgBhBlE,EAAQmE,KAAK,cAEd1B,OAAM,WACL1B,IAAqB,GACrBiB,QAEDiC,SAAQ,kBAAMpC,IAAa,OAoOhB1G,qBAAsBA,OAK9B,cAAC,IAAD,CAAO2G,KAAK,IAAZ,SACE,cAAC,IAAD,CAAU7I,GAAG,aAKnB,cAAC,EAAD,IAEA,cAAC,EAAD,CAAY+E,OAAQ0C,EAClBvC,QAAS4E,GACThJ,KAAMiH,GACNlD,SAAU+E,GACVvE,SAAU0E,KAGZ,cAAC,EAAD,CAAiBhF,OAAQoC,EACvBjC,QAAS4E,GACTxE,eAhGN,YAAyC,IAAXnD,EAAU,EAAVA,OAC5ByG,IAAa,GJvMV,YAAsC,IAAXzG,EAAU,EAAVA,OAChC,OAAOmH,MAAM,GAAD,OAAI3C,EAAJ,oBAAgC,CAC1C2D,OAAQ,QACR1D,UACA+D,KAAMC,KAAKC,UAAU,CACnB1I,aAGHoH,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MIiM5BkE,CAAoB,CAAEpI,WACnBoH,MAAK,SAAAU,GACJ/C,EAAe+C,GACfH,QAEDN,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEbuB,SAAQ,kBAAMpC,IAAa,OAsF1B/D,SAAU+E,GACVvE,SAAU0E,GACVhG,UAAWA,KAGb,cAAC,EAAD,CAAkBgB,OAAQsC,EACxBnC,QAAS4E,GACTpE,aAtHN,YAA4C,IAAhBhE,EAAe,EAAfA,KAAMY,EAAS,EAATA,MAChCsG,IAAa,GJrMV,YAA4C,IAAhBlH,EAAe,EAAfA,KAAMY,EAAS,EAATA,MACvC,OAAOgH,MAAM,GAAD,OAAI3C,EAAJ,aAAyB,CACnC2D,OAAQ,QACR1D,UACA+D,KAAMC,KAAKC,UAAU,CACnBnJ,OACAY,YAGHiH,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MI8L5BkE,CAAqB,CAAE7I,OAAMY,UAC1BiH,MAAK,SAAAU,GACJ/C,EAAe+C,GACfH,QAEDN,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEbuB,SAAQ,kBAAMpC,IAAa,OA4G1B/D,SAAU+E,GACVvE,SAAU0E,GACVhG,UAAWA,KAGb,cAAC,EAAD,CAAcgB,OAAQwC,EACpBrC,QAAS4E,GACTvH,UAlGN,YAAwC,IAAfb,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KAC7BiH,IAAa,GJ1MV,YAAqC,IAAflH,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACjC,OAAO2H,MAAM,GAAD,OAAI3C,EAAJ,UAAsB,CAChC2D,OAAQ,OACR1D,UACA+D,KAAMC,KAAKC,UAAU,CACnBnJ,OACAC,WAGH4H,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MImM5BkE,CAAe,CAAE7I,OAAMC,SACpB4H,MAAK,SAAAiB,GACJvC,GAAS,CAACuC,GAAF,mBAAchI,MACtBsH,QAEDN,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEbuB,SAAQ,kBAAMpC,IAAa,OAwF1B/D,SAAU+E,GACVvE,SAAU0E,GACVhG,UAAWA,KAGb,cAAC,EAAD,CAAcjD,KAAMiH,GAClBhC,UA1LN,SAA0BjF,GACxB8H,IAAa,GJ7GV,YAA8B,IAARzH,EAAO,EAAPA,IAC3B,OAAOmI,MAAM,GAAD,OAAI3C,EAAJ,kBAAsBxF,GAAO,CACvCmJ,OAAQ,SACR1D,YAED2C,MAAK,SAAAlD,GAAG,OAAID,EAAiBC,MI0G5BkE,CAAe,CAAEpJ,IAAKL,EAAKK,MAC1BoI,MAAK,WACJ,IAAMkB,EAAWjI,GAAM2I,QAAO,SAAAT,GAAC,OAAIA,EAAEvJ,MAAQL,EAAKK,OAClD8G,GAASwC,GACTX,QAEDN,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEbuB,SAAQ,WACPpC,IAAa,OA8KX7D,OAAQ4C,EACRzC,QAAS4E,GACTjF,SAAU+E,GACVvE,SAAU0E,GACVhG,UAAWA,KAGb,cAACiC,EAAD,CAAatE,KAAK,eAChBqD,OAAQ8C,GACR3C,QAAS4E,GACTjF,SAAU+E,GACVvE,SAAU0E,GACV7G,MAAOsF,GACPtC,MAAOwC,SCjWA0C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/B,MAAK,YAAkD,IAA/CgC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCGdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAkD,oBAAjE,SACE,cAAC,EAAD,QAGJ3G,SAAS4G,cAAc,UAGzBZ,M","file":"static/js/main.b49d5102.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  const [windowWidth, setWindowWidth] = React.useState(window.innerWidth);\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  function updateWindowSize() {\n    setWindowWidth(window.innerWidth);\n\n    window.innerWidth <= 425 ? setIsMenuOpen(false) : setIsMenuOpen(true);\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('resize', updateWindowSize);\n\n    return () => {\n      window.removeEventListener('resize', updateWindowSize);\n    }\n  });\n\n  function handleButtonClick() {\n    setIsMenuOpen(!isMenuOpen);\n  }\n\n  const menuStyles = `\n    ${((props.isLoggedIn) && (windowWidth <= 425)) ? 'header__menu_mobile' : 'header__menu'}\n    ${((windowWidth <= 425) && (!isMenuOpen)) ? 'hidden' : ''}\n  `\n\n  return (\n    <header className=\"header\">\n      <div className={menuStyles}>\n        <p className=\"header__user-login\">{props.userLogin}</p>\n        <NavLink className={`header__navlink ${props.isLoggedIn ? 'header__navlink_logged-in' : ''}`}\n          to={props.navlinkPath}\n          onClick={props.onSignOut}\n        >{props.navlinkText}</NavLink>\n      </div>\n\n      <div className=\"header__container\">\n        <img src={logo} className=\"header__logo\" alt=\"Логотип сервиса\" />\n        {props.isLoggedIn && <button className={`header__menu-button ${isMenuOpen ? 'header__menu-button_opened' : ''}`} onClick={handleButtonClick} />}\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const card = props.card;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardTrashButtonClassName = (\n    `element__trash-button ${isOwn ? '' : 'element__trash-button_hidden'}`\n  );\n  const isLiked = card.likes.some(user => user._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleClick} />\n      <div className=\"element__title-container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardTrashButtonClassName} onClick={handleDeleteClick} />\n    </li>\n  )\n}\n\nexport default Card;\n","import React, { useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Выйти');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  });\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\n          <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__edit-button profile__edit-button_type_avatar\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button profile__edit-button_type_profile\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddCard} type=\"button\" className=\"profile__add-button\" />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map(card => (\n            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n          ))}\n        </ul>\n      </section>\n    </>\n  )\n}\n\nexport default Main;\n","import React, { useState } from 'react';\n\nexport default function Form(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit({ email, password });\n  }\n\n  function handleFocus(evt) {\n    evt.target.removeAttribute('readonly');\n  }\n\n  return (\n    <form name={props.name} className=\"form\" onSubmit={handleSubmit}>\n      <h2 className=\"form__title\">{props.title}</h2>\n        <fieldset className=\"form__info\">\n          <input value={email || ''} onChange={handleEmailChange} name=\"email-input\" type=\"email\" className=\"form__input form__input_type_email\" placeholder=\"Email\" required autoComplete=\"email\" maxLength=\"50\" />\n          <span className=\"form__input-error\" id=\"email-input-error\" />\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password-input\" type=\"password\" className=\"form__input form__input_type_password\" placeholder=\"Пароль\" required autoComplete=\"password\" minLength=\"8\" maxLength=\"100\" readOnly onFocus={handleFocus} />\n          <span className=\"form__input-error\" id=\"password-input-error\" />\n        </fieldset>\n      <button type=\"submit\" className=\"form__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n    </form>\n  )\n}\n","import React, { useEffect } from 'react';\n\nimport Form from './Form';\n\nexport default function Login(props) {\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signup', 'Регистрация');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  }, [props]);\n\n  return (\n    <div className=\"auth\">\n      <Form\n        name=\"login\"\n        onSubmit={props.onSubmit}\n        title=\"Вход\"\n        isLoading={props.isLoading}\n        buttonLoadingText=\"Вход...\"\n        buttonText=\"Войти\"\n      />\n    </div>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport Form from './Form';\n\nexport default function Register(props) {\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Войти');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  }, [props]);\n\n  return (\n    <div className=\"auth\">\n      <Form\n        name=\"register\"\n        onSubmit={props.onSubmit}\n        title=\"Регистрация\"\n        isLoading={props.isLoading}\n        buttonLoadingText=\"Регистрация...\"\n        buttonText=\"Зарегистрироваться\"\n      />\n\n      <p className=\"auth__text\">Уже зарегистрированы? <NavLink to=\"/signin\" className=\"auth__link\">Войти</NavLink></p>\n    </div>\n  )\n}\n","import React from 'react';\n\nfunction Footer() {\n  let currentYear = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\" lang=\"en\">&copy; {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({ avatar: avatar.current.value });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Обновить' buttonLoadingText='Обновление...'>\n      <fieldset className=\"popup__info\">\n        <input ref={avatar} name=\"avatar-input\" type=\"url\" className=\"popup__input popup__input_type_avatar\" placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({ name, about });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleJobChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-profile\" title=\"Редактирование профиля\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Сохранить' buttonLoadingText='Сохранение...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"name-input\" type=\"text\" className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n        <input value={about || ''} onChange={handleJobChange} name=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_job\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n        <span className=\"popup__input-error\" id=\"job-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddCard({ name, link });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Добавить' buttonLoadingText='Добавление...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"  placeholder = 'Название' required minLength=\"1\" maxLength=\"30\" />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n        <input value={link || ''} onChange={handleLinkChange} name=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\" placeholder = 'Ссылка на картинку' required />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const card = props.card;\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <p className=\"popup__subtitle\">{card.name}</p>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onConfirm(props.card);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit}\n    onClose={props.onClose}\n    onLayout={props.onLayout}\n    name=\"confirm\"\n    title=\"Вы уверены?\"\n    isOpen={props.isOpen}\n    isLoading={props.isLoading}\n    buttonText='Да'\n    buttonLoadingText='Удаление...' />\n  )\n}\n\nexport default ConfirmPopup;\n","import React, { useState, useEffect, useRef } from 'react';\n\nexport default function InfoTooltip(props) {\n  const popup = useRef();\n\n  const [title, setTitle] = useState('');\n  const [image, setImage] = useState('');\n\n  useEffect(() => {\n    setTitle(props.title);\n    setImage(props.image);\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n\n      setImage('');\n      setTitle('');\n    };\n  }, [props]);\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\">\n        <img src={image} alt=\"Результат запроса\" className=\"popup__tooltip-image\" />\n        <h2 className=\"popup__title popup__title_tooltip\">{title}</h2>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n","export function handlePromiseRes(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n","import { handlePromiseRes } from './utils';\n\nexport const BASE_URL = 'https://mesto.nomoreparties.co/v1/cohort-16';\nexport const headers = {\n  authorization: '9dad3ee9-138f-48bd-8014-b648376a609a',\n  'Content-Type': 'application/json'\n};\n\nexport function getUserData() {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function getInitialCards() {\n  return fetch(`${BASE_URL}/cards`, {\n    headers\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function patchUserProfile({ name, about }) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify({\n      name,\n      about\n    })\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function patchUserAvatar({ avatar }) {\n  return fetch(`${BASE_URL}/users/me/avatar`, {\n    method: 'PATCH',\n    headers,\n    body: JSON.stringify({\n      avatar\n    })\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function addNewCard({ name, link }) {\n  return fetch(`${BASE_URL}/cards`, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({\n      name,\n      link\n    })\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function deleteCard({ _id }) {\n  return fetch(`${BASE_URL}/cards/${_id}`, {\n    method: 'DELETE',\n    headers\n  })\n  .then(res => handlePromiseRes(res))\n}\n\nexport function changeLikeCardStatus({ _id }, method) {\n  return fetch(`${BASE_URL}/cards/likes/${_id}`, {\n    method: method,\n    headers,\n  })\n  .then(res => handlePromiseRes(res))\n}\n","import { handlePromiseRes } from './utils';\n\nexport const BASE_URL = 'https://auth.nomoreparties.co';\nexport const headers = {\n  'Content-Type': 'application/json'\n};\n\nexport function register({ email, password }) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({\n      email,\n      password\n    }),\n  })\n    .then((res) => handlePromiseRes(res))\n}\n\nexport function login({ email, password }) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({\n      email,\n      password\n    }),\n  })\n    .then((res) => handlePromiseRes(res))\n}\n\nexport function getContent(jwt) {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      ...headers,\n      'Authorization' : `Bearer ${jwt}`\n    },\n  })\n    .then((res) => handlePromiseRes(res))\n}\n","export default __webpack_public_path__ + \"static/media/info-tooltip-ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/info-tooltip-error.df8eddf6.svg\";","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\n\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddCardPopup from './AddCardPopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport InfoTooltip from './InfoTooltip';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport * as api from '../utils/api';\nimport * as auth from '../utils/auth';\n\nimport infoTooltipOkImage from '../images/info-tooltip-ok.svg';\nimport infoTooltipErrorImage from '../images/info-tooltip-error.svg';\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [headerNavlinkPath, setHeaderNavlinkPath] = useState('/');\n  const [headerNavlinkText, setHeaderNavlinkText] = useState('');\n  const [headerUserLogin, setHeaderUserLogin] = useState('');\n\n  const [infoTooltipTitle, setInfoTooltipTitle] = useState('');\n  const [infoTooltipImage, setInfoTooltipImage] = useState('');\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  function setHeaderNavlinkData(path, text) {\n    setHeaderNavlinkPath(path);\n    setHeaderNavlinkText(text);\n  }\n\n  function setInfoTooltipOk() {\n    setInfoTooltipTitle('Вы успешно зарегистрировались!');\n    setInfoTooltipImage(infoTooltipOkImage);\n  }\n\n  function setInfoTooltipError() {\n    setInfoTooltipTitle('Что-то пошло не так! Попробуйте еще раз.');\n    setInfoTooltipImage(infoTooltipErrorImage);\n  }\n\n  function handleRegister({ email, password }) {\n    setIsLoading(true);\n\n    auth.register({ email, password })\n      .then(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipOk();\n\n        history.push('/signin');\n      })\n      .catch(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipError();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleLogin({ email, password }) {\n    setIsLoading(true);\n\n    auth.login({ email, password })\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('token', res.token);\n          localStorage.setItem('login', email);\n          setIsLoggedIn(true);\n          setHeaderUserLogin(email);\n        } else {\n          return;\n        }\n      })\n      .catch(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipError();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    setHeaderUserLogin('');\n  }\n\n  function checkToken() {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n\n      auth.getContent(token)\n        .then(() => {\n          setIsLoggedIn(true);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  useEffect(() => {\n    checkToken();\n    setHeaderUserLogin(localStorage.getItem('login'));\n  }, []);\n\n  useEffect(() => {\n    api.getUserData()\n      .then(userData => {\n        setCurrentUser(userData);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLikeClick(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus({ _id: card._id}, (isLiked ? 'DELETE' : 'PUT'))\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDeleteClick(card) {\n    setIsConfirmPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true);\n\n    api.deleteCard({ _id: card._id })\n    .then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleLayoutClick(popup) {\n    popup.addEventListener('mousedown', evt => {\n      evt.target === evt.currentTarget && closeAllPopups();\n    });\n  }\n\n  function handleEscapeClose(evt) {\n    evt.key === 'Escape' && closeAllPopups();\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n\n    api.patchUserProfile({ name, about })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoading(true);\n\n    api.patchUserAvatar({ avatar })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddCard({ name, link }) {\n    setIsLoading(true);\n\n    api.addNewCard({ name, link })\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <Header\n        isLoggedIn={isLoggedIn}\n        userLogin={headerUserLogin}\n        navlinkPath={headerNavlinkPath}\n        navlinkText={headerNavlinkText}\n        onSignOut={handleSignOut}\n      />\n\n      <main className=\"main\">\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            isLoggedIn={isLoggedIn}\n            setHeaderNavlinkData={setHeaderNavlinkData}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddCardClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLikeClick}\n            onCardDelete={handleCardDeleteClick}\n          />\n\n          <Route path=\"/signin\">\n            {\n              isLoggedIn\n              ? <Redirect to=\"/\" />\n              : <Login\n                  isLoading={isLoading}\n                  onSubmit={handleLogin}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"/signup\">\n            {\n              isLoggedIn\n              ? <Redirect to=\"/\" />\n              : <Register\n                  isLoading={isLoading}\n                  onSubmit={handleRegister}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </main>\n\n      <Footer />\n\n      <ImagePopup isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n        card={selectedCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n      />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <AddCardPopup isOpen={isAddCardPopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <ConfirmPopup card={selectedCard}\n        onConfirm={handleCardDelete}\n        isOpen={isConfirmPopupOpen}\n        onClose={closeAllPopups}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <InfoTooltip name=\"info-tooltip\"\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        title={infoTooltipTitle}\n        image={infoTooltipImage}\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.NODE_ENV === 'production' ? '/react-mesto-auth' : '/'}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}
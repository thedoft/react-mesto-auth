{"version":3,"sources":["images/logo.svg","components/Header.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Form.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddCardPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","components/InfoTooltip.js","utils/utils.js","utils/api.js","utils/auth.js","images/info-tooltip-ok.svg","images/info-tooltip-error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","isLoggedIn","userLogin","to","navlinkPath","onClick","onSignOut","navlinkText","ProtectedRoute","Component","component","CurrentUserContext","React","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","name","link","onCardClick","type","onCardLike","length","onCardDelete","Main","useEffect","setHeaderNavlinkData","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","Form","useState","email","setEmail","password","setPassword","onSubmit","evt","preventDefault","title","value","onChange","target","placeholder","required","autoComplete","maxLength","readOnly","onFocus","removeAttribute","id","minLength","isLoading","buttonLoadingText","buttonText","Login","Register","Footer","currentYear","Date","getFullYear","lang","PopupWithForm","popup","useRef","ref","onLayout","current","isOpen","noValidate","children","onClose","EditAvatarPopup","document","addEventListener","onEscape","removeEventListener","onUpdateAvatar","EditProfilePopup","setName","setAbout","onUpdateUser","AddCardPopup","setLink","ImagePopup","ConfirmPopup","onConfirm","InfoTooltip","setTitle","image","setImage","handlePromiseRes","res","ok","json","Promise","reject","status","api","options","this","_url","url","_headers","headers","fetch","then","method","body","JSON","stringify","authorization","BASE_URL","App","history","useHistory","setIsLoggedIn","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCards","headerNavlinkPath","setHeaderNavlinkPath","headerNavlinkText","setHeaderNavlinkText","headerUserLogin","setHeaderUserLogin","infoTooltipTitle","setInfoTooltipTitle","infoTooltipImage","setInfoTooltipImage","setIsLoading","path","text","setInfoTooltipError","infoTooltipErrorImage","checkToken","localStorage","getItem","token","jwt","data","catch","err","console","log","handleLayoutClick","currentTarget","closeAllPopups","handleEscapeClose","key","getUserData","userData","getInitialCards","initialCards","Provider","removeItem","exact","changeLikeCardStatus","newCard","newCards","c","auth","setItem","finally","infoTooltipOkImage","push","patchUserAvatar","patchUserProfile","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","querySelector"],"mappings":"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","file":"static/js/main.35d446e8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип сервиса\" />\n      <div className=\"header__info-container\">\n        <p className=\"header__user-login\">{`${props.isLoggedIn ? props.userLogin : ''}`}</p>\n        <NavLink className={`header__navlink ${props.isLoggedIn ? 'header__navlink_logged-in' : ''}`}\n          to={props.navlinkPath}\n          onClick={props.onSignOut}\n        >{props.navlinkText}</NavLink>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const card = props.card;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardTrashButtonClassName = (\n    `element__trash-button ${isOwn ? '' : 'element__trash-button_hidden'}`\n  );\n  const isLiked = card.likes.some(user => user._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleClick} />\n      <div className=\"element__title-container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardTrashButtonClassName} onClick={handleDeleteClick} />\n    </li>\n  )\n}\n\nexport default Card;\n","import React, { useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Выйти');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  });\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\n          <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__edit-button profile__edit-button_type_avatar\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button profile__edit-button_type_profile\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddCard} type=\"button\" className=\"profile__add-button\" />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map(card => (\n            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n          ))}\n        </ul>\n      </section>\n    </>\n  )\n}\n\nexport default Main;\n","import React, { useState } from 'react';\n\nexport default function Form(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onSubmit({ email, password });\n  }\n\n  function handleFocus(evt) {\n    evt.target.removeAttribute('readonly');\n  }\n\n  return (\n    <form name={props.name} className=\"form\" onSubmit={handleSubmit}>\n      <h2 className=\"form__title\">{props.title}</h2>\n        <fieldset className=\"form__info\">\n          <input value={email || ''} onChange={handleEmailChange} name=\"email-input\" type=\"email\" className=\"form__input form__input_type_email\" placeholder=\"Email\" required autoComplete=\"email\" maxLength=\"50\" readOnly onFocus={handleFocus} />\n          <span className=\"form__input-error\" id=\"email-input-error\" />\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password-input\" type=\"password\" className=\"form__input form__input_type_password\" placeholder=\"Пароль\" required autoComplete=\"password\" minLength=\"8\" maxLength=\"100\" />\n          <span className=\"form__input-error\" id=\"password-input-error\" />\n        </fieldset>\n      <button type=\"submit\" className=\"form__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n    </form>\n  )\n}\n","import React, { useEffect } from 'react';\n\nimport Form from './Form';\n\nexport default function Login(props) {\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signup', 'Зарегистрироваться');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  }, [props]);\n\n  return (\n    <div className=\"auth\">\n      <Form\n        name=\"login\"\n        onSubmit={props.onSubmit}\n        title=\"Вход\"\n        isLoading={props.isLoading}\n        buttonLoadingText=\"Вход...\"\n        buttonText=\"Войти\"\n      />\n    </div>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport Form from './Form';\n\nexport default function Register(props) {\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Войти');\n\n    return () => {\n      props.setHeaderNavlinkData('/', '');\n    }\n  }, [props]);\n\n  return (\n    <div className=\"auth\">\n      <Form\n        name=\"register\"\n        onSubmit={props.onSubmit}\n        title=\"Регистрация\"\n        isLoading={props.isLoading}\n        buttonLoadingText=\"Регистрация...\"\n        buttonText=\"Зарегистрироваться\"\n      />\n\n      <p className=\"auth__text\">Уже зарегистрированы? <NavLink to=\"/signin\" className=\"auth__link\">Войти</NavLink></p>\n    </div>\n  )\n}\n","import React from 'react';\n\nfunction Footer() {\n  let currentYear = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\" lang=\"en\">&copy; {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({ avatar: avatar.current.value });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Обновить' buttonLoadingText='Обновление...'>\n      <fieldset className=\"popup__info\">\n        <input ref={avatar} name=\"avatar-input\" type=\"url\" className=\"popup__input popup__input_type_avatar\" placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({ name, about });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleJobChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-profile\" title=\"Редактирование профиля\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Сохранить' buttonLoadingText='Сохранение...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"name-input\" type=\"text\" className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n        <input value={about || ''} onChange={handleJobChange} name=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_job\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n        <span className=\"popup__input-error\" id=\"job-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddCard({ name, link });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Добавить' buttonLoadingText='Добавление...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"  placeholder = 'Название' required minLength=\"1\" maxLength=\"30\" />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n        <input value={link || ''} onChange={handleLinkChange} name=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\" placeholder = 'Ссылка на картинку' required />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const card = props.card;\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <p className=\"popup__subtitle\">{card.name}</p>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onConfirm(props.card);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit}\n    onClose={props.onClose}\n    onLayout={props.onLayout}\n    name=\"confirm\"\n    title=\"Вы уверены?\"\n    isOpen={props.isOpen}\n    isLoading={props.isLoading}\n    buttonText='Да'\n    buttonLoadingText='Удаление...' />\n  )\n}\n\nexport default ConfirmPopup;\n","import React, { useState, useEffect, useRef } from 'react';\n\nexport default function InfoTooltip(props) {\n  const popup = useRef();\n\n  const [title, setTitle] = useState('');\n  const [image, setImage] = useState('');\n\n  useEffect(() => {\n    setTitle(props.title);\n    setImage(props.image);\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n\n      setImage('');\n      setTitle('');\n    };\n  }, [props]);\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\">\n        <img src={image} alt=\"Результат запроса\" className=\"popup__tooltip-image\" />\n        <h2 className=\"popup__title popup__title_tooltip\">{title}</h2>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n","export function handlePromiseRes(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n","import { handlePromiseRes } from './utils';\n\nclass Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  patchUserProfile({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  patchUserAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  deleteCard({ _id }) {\n    return fetch(`${this._url}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => handlePromiseRes(res))\n  }\n\n  changeLikeCardStatus({ _id }, method) {\n    return fetch(`${this._url}/cards/likes/${_id}`, {\n      method: method,\n      headers: this._headers,\n    })\n    .then(res => handlePromiseRes(res))\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '9dad3ee9-138f-48bd-8014-b648376a609a',\n    'Content-Type': 'application/json'\n  }\n});\n","import { handlePromiseRes } from './utils';\n\nexport const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport function register({ email, password }) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    }),\n  })\n    .then((res) => handlePromiseRes(res))\n}\n\nexport function login({ email, password }) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    }),\n  })\n    .then((res) => handlePromiseRes(res))\n}\n\nexport function getContent(jwt) {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${jwt}`\n    },\n  })\n    .then((res) => handlePromiseRes(res))\n}\n","export default __webpack_public_path__ + \"static/media/info-tooltip-ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/info-tooltip-error.df8eddf6.svg\";","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\n\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddCardPopup from './AddCardPopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport InfoTooltip from './InfoTooltip';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { api } from '../utils/api';\nimport * as auth from '../utils/auth';\n\nimport infoTooltipOkImage from '../images/info-tooltip-ok.svg';\nimport infoTooltipErrorImage from '../images/info-tooltip-error.svg';\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(<></>);\n  const [cards, setCards] = useState([]);\n\n  const [headerNavlinkPath, setHeaderNavlinkPath] = useState('/');\n  const [headerNavlinkText, setHeaderNavlinkText] = useState('');\n  const [headerUserLogin, setHeaderUserLogin] = useState('');\n\n  const [infoTooltipTitle, setInfoTooltipTitle] = useState('');\n  const [infoTooltipImage, setInfoTooltipImage] = useState('');\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  function setHeaderNavlinkData(path, text) {\n    setHeaderNavlinkPath(path);\n    setHeaderNavlinkText(text);\n  }\n\n  function setInfoTooltipOk() {\n    setInfoTooltipTitle('Вы успешно зарегистрировались!');\n    setInfoTooltipImage(infoTooltipOkImage);\n  }\n\n  function setInfoTooltipError() {\n    setInfoTooltipTitle('Что-то пошло не так! Попробуйте еще раз.');\n    setInfoTooltipImage(infoTooltipErrorImage);\n  }\n\n  function handleRegister({ email, password }) {\n    setIsLoading(true);\n\n    auth.register({ email, password })\n      .then(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipOk();\n\n        history.push('/signin');\n      })\n      .catch(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipError();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleLogin({ email, password }) {\n    setIsLoading(true);\n\n    auth.login({ email, password })\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('token', res.token);\n          setIsLoggedIn(true);\n        } else {\n          return;\n        }\n      })\n      .catch(() => {\n        setIsInfoTooltipOpen(true);\n        setInfoTooltipError();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n  }\n\n  function checkToken() {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n\n      auth.getContent(token)\n        .then((res) => {\n          setIsLoggedIn(true);\n          setHeaderUserLogin(res.data.email);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  useEffect(() => {\n    api.getUserData()\n      .then(userData => {\n        setCurrentUser(userData);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLikeClick(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus({ _id: card._id}, (isLiked ? 'DELETE' : 'PUT'))\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDeleteClick(card) {\n    setIsConfirmPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true);\n\n    api.deleteCard({ _id: card._id })\n    .then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleLayoutClick(popup) {\n    popup.addEventListener('mousedown', evt => {\n      evt.target === evt.currentTarget && closeAllPopups();\n    });\n  }\n\n  function handleEscapeClose(evt) {\n    evt.key === 'Escape' && closeAllPopups();\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n\n    api.patchUserProfile({ name, about })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoading(true);\n\n    api.patchUserAvatar({ avatar })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddCard({ name, link }) {\n    setIsLoading(true);\n\n    api.addNewCard({ name, link })\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <Header\n        isLoggedIn={isLoggedIn}\n        userLogin={headerUserLogin}\n        navlinkPath={headerNavlinkPath}\n        navlinkText={headerNavlinkText}\n        onSignOut={handleSignOut}\n      />\n\n      <main className=\"main\">\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            isLoggedIn={isLoggedIn}\n            setHeaderNavlinkData={setHeaderNavlinkData}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddCardClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLikeClick}\n            onCardDelete={handleCardDeleteClick}\n          />\n\n          <Route path=\"/signin\">\n            {\n              isLoggedIn\n              ? <Redirect to=\"/\" />\n              : <Login\n                  isLoading={isLoading}\n                  onSubmit={handleLogin}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"/signup\">\n            {\n              isLoggedIn\n              ? <Redirect to=\"/\" />\n              : <Register\n                  isLoading={isLoading}\n                  onSubmit={handleRegister}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </main>\n\n      <Footer />\n\n      <ImagePopup isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n        card={selectedCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n      />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <AddCardPopup isOpen={isAddCardPopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <ConfirmPopup card={selectedCard}\n        onConfirm={handleCardDelete}\n        isOpen={isConfirmPopupOpen}\n        onClose={closeAllPopups}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <InfoTooltip name=\"info-tooltip\"\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        title={infoTooltipTitle}\n        image={infoTooltipImage}\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.NODE_ENV === 'production' ? '/react-mesto-auth' : '/'}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}
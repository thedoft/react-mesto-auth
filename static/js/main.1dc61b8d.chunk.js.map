{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddCardPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","name","link","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","Footer","currentYear","Date","getFullYear","lang","PopupWithForm","popup","useRef","ref","onLayout","current","isOpen","noValidate","onSubmit","title","children","isLoading","buttonLoadingText","buttonText","onClose","EditAvatarPopup","useEffect","value","document","addEventListener","onEscape","removeEventListener","evt","preventDefault","onUpdateAvatar","placeholder","required","id","EditProfilePopup","useState","setName","setAbout","onUpdateUser","onChange","target","minLength","maxLength","AddCardPopup","setLink","ImagePopup","ConfirmPopup","onConfirm","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handlePromiseRes","method","body","JSON","stringify","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","handleLayoutClick","currentTarget","closeAllPopups","handleEscapeClose","key","getUserData","userData","catch","err","console","log","getInitialCards","initialCards","Provider","changeLikeCardStatus","newCard","newCards","c","patchUserAvatar","finally","patchUserProfile","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","querySelector"],"mappings":"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","file":"static/js/main.1dc61b8d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип сервиса\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const card = props.card;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardTrashButtonClassName = (\n    `element__trash-button ${isOwn ? '' : 'element__trash-button_hidden'}`\n  );\n  const isLiked = card.likes.some(user => user._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleClick} />\n      <div className=\"element__title-container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardTrashButtonClassName} onClick={handleDeleteClick} />\n    </li>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\n          <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__edit-button profile__edit-button_type_avatar\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button profile__edit-button_type_profile\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddCard} type=\"button\" className=\"profile__add-button\" />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map(card => (\n            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  let currentYear = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\" lang=\"en\">&copy; {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({ avatar: avatar.current.value });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Обновить' buttonLoadingText='Обновление...'>\n      <fieldset className=\"popup__info\">\n        <input ref={avatar} name=\"avatar-input\" type=\"url\" className=\"popup__input popup__input_type_avatar\" placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({ name, about });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleJobChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-profile\" title=\"Редактирование профиля\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Сохранить' buttonLoadingText='Сохранение...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"name-input\" type=\"text\" className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n        <input value={about || ''} onChange={handleJobChange} name=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_job\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n        <span className=\"popup__input-error\" id=\"job-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddCard({ name, link });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Добавить' buttonLoadingText='Добавление...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"  placeholder = 'Название' required minLength=\"1\" maxLength=\"30\" />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n        <input value={link || ''} onChange={handleLinkChange} name=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\" placeholder = 'Ссылка на картинку' required />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const card = props.card;\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n          <p className=\"popup__subtitle\">{card.name}</p>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onConfirm(props.card);\n  }\n\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit}\n    onClose={props.onClose}\n    onLayout={props.onLayout}\n    name=\"confirm\"\n    title=\"Вы уверены?\"\n    isOpen={props.isOpen}\n    isLoading={props.isLoading}\n    buttonText='Да'\n    buttonLoadingText='Удаление...' />\n  )\n}\n\nexport default ConfirmPopup;\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _handlePromiseRes(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  patchUserProfile({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  patchUserAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  deleteCard({ _id }) {\n    return fetch(`${this._url}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  changeLikeCardStatus({ _id }, method) {\n    return fetch(`${this._url}/cards/likes/${_id}`, {\n      method: method,\n      headers: this._headers,\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '9dad3ee9-138f-48bd-8014-b648376a609a',\n    'Content-Type': 'application/json'\n  }\n});\n","import React, { useState, useEffect } from 'react';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddCardPopup from './AddCardPopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmPopup from './ConfirmPopup';\n\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(<></>);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    api.getUserData()\n      .then(userData => {\n        setCurrentUser(userData);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLikeClick(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus({ _id: card._id}, (isLiked ? 'DELETE' : 'PUT'))\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDeleteClick(card) {\n    setIsConfirmPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true);\n\n    api.deleteCard({ _id: card._id })\n    .then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleLayoutClick(popup) {\n    popup.addEventListener('mousedown', evt => {\n      evt.target === evt.currentTarget && closeAllPopups();\n    });\n  }\n\n  function handleEscapeClose(evt) {\n    evt.key === 'Escape' && closeAllPopups();\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n\n    api.patchUserProfile({ name, about })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoading(true);\n\n    api.patchUserAvatar({ avatar })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddCard({ name, link }) {\n    setIsLoading(true);\n\n    api.addNewCard({ name, link })\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n      <Main onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        onAddCard={handleAddCardClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardLike={handleCardLikeClick}\n        onCardDelete={handleCardDeleteClick} />\n      <Footer />\n\n      <ImagePopup isOpen={isImagePopupOpen}\n      onClose={closeAllPopups}\n      card={selectedCard}\n      onLayout={handleLayoutClick}\n      onEscape={handleEscapeClose} />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading} />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading} />\n\n      <AddCardPopup isOpen={isAddCardPopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading} />\n\n      <ConfirmPopup card={selectedCard}\n      onConfirm={handleCardDelete}\n      isOpen={isConfirmPopupOpen}\n      onClose={closeAllPopups}\n      onLayout={handleLayoutClick}\n      onEscape={handleEscapeClose}\n      isLoading={isLoading} />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.NODE_ENV === 'production' ? '/react-mesto-auth' : '/'}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}
{"version":3,"sources":["images/logo.svg","components/Header.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Form.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddCardPopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","userLogin","isLoggedIn","to","navlinkPath","navlinkText","ProtectedRoute","Component","component","CurrentUserContext","React","createContext","Card","card","currentUser","useContext","isOwn","owner","_id","cardTrashButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","name","link","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","useEffect","setHeaderNavlinkData","setHeaderUserLogin","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","Form","onSubmit","title","children","isLoading","buttonLoadingText","buttonText","Login","useState","email","setEmail","password","setPassword","value","onChange","evt","target","placeholder","required","maxLength","id","minLength","Footer","currentYear","Date","getFullYear","lang","PopupWithForm","popup","useRef","ref","onLayout","current","isOpen","noValidate","onClose","EditAvatarPopup","document","addEventListener","onEscape","removeEventListener","preventDefault","onUpdateAvatar","EditProfilePopup","setName","setAbout","onUpdateUser","AddCardPopup","setLink","ImagePopup","ConfirmPopup","onConfirm","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_handlePromiseRes","method","body","JSON","stringify","authorization","App","history","useHistory","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCards","setIsLoading","handleLayoutClick","currentTarget","closeAllPopups","handleEscapeClose","key","getUserData","userData","catch","err","console","log","getInitialCards","initialCards","headerNavlinkPath","setHeaderNavlinkPath","headerNavlinkText","setHeaderNavlinkText","headerUserLogin","path","text","Provider","exact","changeLikeCardStatus","newCard","newCards","c","push","patchUserAvatar","finally","patchUserProfile","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","querySelector"],"mappings":"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","file":"static/js/main.4c167124.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport logo from '../images/logo.svg';\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип сервиса\" />\n      <div className=\"header__info-container\">\n        <p className=\"header__user-login\">{props.userLogin}</p>\n        <NavLink className={`header__navlink ${props.isLoggedIn ? 'header__navlink_logged-in' : ''}`} to={props.navlinkPath}>{props.navlinkText}</NavLink>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const card = props.card;\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardTrashButtonClassName = (\n    `element__trash-button ${isOwn ? '' : 'element__trash-button_hidden'}`\n  );\n  const isLiked = card.likes.some(user => user._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" alt={card.name} src={card.link} onClick={handleClick} />\n      <div className=\"element__title-container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__likes-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\n          <p className=\"element__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button type=\"button\" className={cardTrashButtonClassName} onClick={handleDeleteClick} />\n    </li>\n  )\n}\n\nexport default Card;\n","import React, { useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Выйти');\n    props.setHeaderUserLogin('Pidor');\n\n    return () => {\n      props.setHeaderUserLogin('');\n      props.setHeaderNavlinkData('/', '');\n    }\n  });\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Аватар\" className=\"profile__avatar\" src={currentUser.avatar} />\n          <button onClick={props.onEditAvatar} type=\"button\" className=\"profile__edit-button profile__edit-button_type_avatar\" />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title-container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit-button profile__edit-button_type_profile\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddCard} type=\"button\" className=\"profile__add-button\" />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {props.cards.map(card => (\n            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n          ))}\n        </ul>\n      </section>\n    </>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nexport default function Form(props) {\n  return (\n    <form name={props.name} className=\"form\" onSubmit={props.onSubmit}>\n      <h2 className=\"form__title\">{props.title}</h2>\n        {props.children}\n      <button type=\"submit\" className=\"form__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n    </form>\n  )\n}\n","import React, { useState, useEffect } from 'react';\n\nimport Form from './Form';\n\nexport default function Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signup', 'Зарегистрироваться');\n\n    return () => {\n    props.setHeaderNavlinkData('/', '');\n    }\n  });\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  }\n\n  return (\n    <div className=\"auth\">\n      <Form name=\"login\" onSubmit={props.onSubmit} title=\"Вход\" isLoading={props.isLoading} buttonLoadingText=\"Вход...\" buttonText=\"Войти\">\n        <fieldset className=\"form__info\">\n          <input value={email || ''} onChange={handleEmailChange} name=\"email-input\" type=\"email\" className=\"form__input form__input_type_email\" placeholder=\"Email\" required maxLength=\"50\" />\n          <span className=\"form__input-error\" id=\"email-input-error\" />\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password-input\" type=\"password\" className=\"form__input form__input_type_password\" placeholder=\"Пароль\" required minLength=\"8\" maxLength=\"100\" />\n          <span className=\"form__input-error\" id=\"password-input-error\" />\n        </fieldset>\n      </Form>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport Form from './Form';\n\nexport default function Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    props.setHeaderNavlinkData('/signin', 'Войти');\n\n    return () => {\n    props.setHeaderNavlinkData('/', '');\n    }\n  });\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value)\n  }\n\n  return (\n    <div className=\"auth\">\n      <Form name=\"register\" onSubmit={props.onSubmit} title=\"Регистрация\" isLoading={props.isLoading} buttonLoadingText=\"Регистрация...\" buttonText=\"Зарегистрироваться\">\n        <fieldset className=\"form__info\">\n          <input value={email || ''} onChange={handleEmailChange} name=\"email-input\" type=\"email\" className=\"form__input form__input_type_email\" placeholder=\"Email\" required maxLength=\"50\" />\n          <span className=\"form__input-error\" id=\"email-input-error\" />\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password-input\" type=\"password\" className=\"form__input form__input_type_password\" placeholder=\"Пароль\" required minLength=\"8\" maxLength=\"100\" />\n          <span className=\"form__input-error\" id=\"password-input-error\" />\n        </fieldset>\n      </Form>\n      <p className=\"auth__text\">Уже зарегистрированы? <NavLink to=\"/signin\" className=\"auth__link\">Войти</NavLink></p>\n    </div>\n  )\n}\n","import React from 'react';\n\nfunction Footer() {\n  let currentYear = new Date().getFullYear();\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\" lang=\"en\">&copy; {currentYear} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <form name={props.name} className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit-button\">{props.isLoading ? props.buttonLoadingText : props.buttonText}</button>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatar = React.useRef();\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateAvatar({ avatar: avatar.current.value });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Обновить' buttonLoadingText='Обновление...'>\n      <fieldset className=\"popup__info\">\n        <input ref={avatar} name=\"avatar-input\" type=\"url\" className=\"popup__input popup__input_type_avatar\" placeholder=\"Ссылка на картинку\" required />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({ name, about });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleJobChange(evt) {\n    setAbout(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"edit-profile\" title=\"Редактирование профиля\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Сохранить' buttonLoadingText='Сохранение...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"name-input\" type=\"text\" className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n        <input value={about || ''} onChange={handleJobChange} name=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_job\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n        <span className=\"popup__input-error\" id=\"job-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onAddCard({ name, link });\n  }\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleLinkChange(evt) {\n    setLink(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} onLayout={props.onLayout} name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} isLoading={props.isLoading} buttonText='Добавить' buttonLoadingText='Добавление...'>\n      <fieldset className=\"popup__info\">\n        <input value={name || ''} onChange={handleNameChange} name=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"  placeholder = 'Название' required minLength=\"1\" maxLength=\"30\" />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n        <input value={link || ''} onChange={handleLinkChange} name=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\" placeholder = 'Ссылка на картинку' required />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const card = props.card;\n  const popup = React.useRef();\n\n  function handleLayoutClick() {\n    props.onLayout(popup.current);\n  }\n\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  return (\n    <div ref={popup} onClick={handleLayoutClick} className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <p className=\"popup__subtitle\">{card.name}</p>\n        <button onClick={props.onClose} type=\"reset\" className=\"popup__close-button\" />\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  React.useEffect(() => {\n    props.isOpen && document.addEventListener('keyup', props.onEscape);\n\n    return () => {\n      document.removeEventListener('keyup', props.onEscape);\n    };\n  }, [props]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onConfirm(props.card);\n  }\n\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit}\n    onClose={props.onClose}\n    onLayout={props.onLayout}\n    name=\"confirm\"\n    title=\"Вы уверены?\"\n    isOpen={props.isOpen}\n    isLoading={props.isLoading}\n    buttonText='Да'\n    buttonLoadingText='Удаление...' />\n  )\n}\n\nexport default ConfirmPopup;\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _handlePromiseRes(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  patchUserProfile({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  patchUserAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  deleteCard({ _id }) {\n    return fetch(`${this._url}/cards/${_id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n\n  changeLikeCardStatus({ _id }, method) {\n    return fetch(`${this._url}/cards/likes/${_id}`, {\n      method: method,\n      headers: this._headers,\n    })\n    .then(res => {\n      return this._handlePromiseRes(res);\n    });\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '9dad3ee9-138f-48bd-8014-b648376a609a',\n    'Content-Type': 'application/json'\n  }\n});\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddCardPopup from './AddCardPopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmPopup from './ConfirmPopup';\n\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const history = useHistory();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(<></>);\n  const [cards, setCards] = useState([]);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    api.getUserData()\n      .then(userData => {\n        setCurrentUser(userData);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLikeClick(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus({ _id: card._id}, (isLiked ? 'DELETE' : 'PUT'))\n      .then(newCard => {\n        const newCards = cards.map(c => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDeleteClick(card) {\n    setIsConfirmPopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true);\n\n    api.deleteCard({ _id: card._id })\n    .then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleLayoutClick(popup) {\n    popup.addEventListener('mousedown', evt => {\n      evt.target === evt.currentTarget && closeAllPopups();\n    });\n  }\n\n  function handleEscapeClose(evt) {\n    evt.key === 'Escape' && closeAllPopups();\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsConfirmPopupOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsLoading(true);\n\n    api.patchUserProfile({ name, about })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsLoading(true);\n\n    api.patchUserAvatar({ avatar })\n      .then(userData => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddCard({ name, link }) {\n    setIsLoading(true);\n\n    api.addNewCard({ name, link })\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  const [headerNavlinkPath, setHeaderNavlinkPath] = useState('/');\n  const [headerNavlinkText, setHeaderNavlinkText] = useState('');\n  const [headerUserLogin, setHeaderUserLogin] = useState('');\n\n  function setHeaderNavlinkData(path, text) {\n    setHeaderNavlinkPath(path);\n    setHeaderNavlinkText(text);\n  }\n\n  function handleLogin(evt) {\n    evt.preventDefault();\n\n    history.push('/');\n  }\n\n  function handleRegister(evt) {\n    evt.preventDefault();\n\n    history.push('/signin');\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <Header\n        isLoggedIn={isLoggedIn}\n        userLogin={headerUserLogin}\n        navlinkPath={headerNavlinkPath}\n        navlinkText={headerNavlinkText}\n      />\n\n      <main className=\"main\">\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            isLoggedIn={isLoggedIn}\n            setHeaderNavlinkData={setHeaderNavlinkData}\n            setHeaderUserLogin={setHeaderUserLogin}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddCardClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLikeClick}\n            onCardDelete={handleCardDeleteClick}\n          />\n\n          <Route path=\"/signin\">\n            {\n              /*isLoggedIn\n              ? <Redirect to=\"/\" />\n              :*/ <Login\n                  isLoading={isLoading}\n                  onSubmit={handleLogin}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"/signup\">\n            {\n              /*isLoggedIn\n              ? <Redirect to=\"/\" />\n              : */<Register\n                  isLoading={isLoading}\n                  onSubmit={handleRegister}\n                  setHeaderNavlinkData={setHeaderNavlinkData}\n                />\n            }\n          </Route>\n\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </main>\n\n      <Footer />\n\n      <ImagePopup isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n        card={selectedCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n      />\n\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <AddCardPopup isOpen={isAddCardPopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddCard}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n      <ConfirmPopup card={selectedCard}\n        onConfirm={handleCardDelete}\n        isOpen={isConfirmPopupOpen}\n        onClose={closeAllPopups}\n        onLayout={handleLayoutClick}\n        onEscape={handleEscapeClose}\n        isLoading={isLoading}\n      />\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.NODE_ENV === 'production' ? '/react-mesto-auth' : '/'}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.querySelector('.page')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}